focus_tree = {
	id = soviet_focus
	country = { 

		factor = 0
		modifier = {
			add = 10
			tag = SOV
		}
	}

	default = no

	focus = {
		id = stalin_constitution
		icon = GFX_focus_generic_tank_production
		cost = 10
		x = 8
		y = 0
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = stalin_cons	
			add_ideas = track_factory			
			add_political_power = 160	
		}
	}

	focus = {
		id = finish_seven_year_plan
		icon = GFX_SOV_Portray_A_Global_Soviet_Image
		cost = 10
		prerequisite = {
			focus = stalin_constitution
		}
		x = 4
		y = 1
		available = { has_completed_focus = SOV_great_purge }
		available_if_capitulated = yes
				bypass = {
					    custom_trigger_tooltip = {
						tooltip = construction_effort_tt
						all_owned_state = {
						free_building_slots = {
							building = industrial_complex
							size < 2
							include_locked = yes
							}
						}
					}
				}
				complete_tooltip = {
					every_state = {
						limit = {
							has_state_flag = SOV_finish_five_year_plan_2IC
							}
						    add_extra_state_shared_building_slots = 2
							add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}
				completion_reward = {
					217 = {
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
				type = industrial_complex
				level = 8
				instant_build = yes
				}
				set_state_flag = SOV_finish_five_year_plan_2IC
			}
		}
	}

	focus = {
		id = sov_gulag
		icon = GFX_focus_generic_industry_1
		cost = 10
		prerequisite = {
			focus = finish_seven_year_plan
		}
		x = 3
		y = 2

	}
	focus = {
		id = work_for_ussr
		icon = GFX_focus_generic_join_comintern
		cost = 10
		prerequisite = {
			focus = finish_seven_year_plan
		}
		x = 5
		y = 2
		completion_reward = {
		    add_ideas = workers_culture
        }

	}
	focus = {
		id = aviation_cult
		icon = GFX_focus_eng_crush_the_dream
		cost = 10
		prerequisite = {
			focus = sov_gulag
		}
		prerequisite = {
			focus = work_for_ussr
		}
		x = 4
		y = 3
        completion_reward = { 
            air_experience = 100

			add_tech_bonus = {
				name = Fighterbonus
				bonus = 1.5
				ahead_reduction = 1
				uses = 1
				category = light_fighter
			}
		}				
	}
	focus = {
		id = soviet_war_eco
		icon = GFX_focus_eng_liberate_the_home_of_marx
		cost = 4
		prerequisite = {
			focus = aviation_cult
		}
		x = 4
		y = 4
		available = {
			GER = { has_completed_focus = GER_anschluss }		
		}
		completion_reward = {
		    add_ideas = war_economy
		}

	}
	focus = {
		id = SOV_great_purge
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = {
			focus = stalin_constitution
		}
		x = 8
		y = 2
        cost = 0

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SOV_great_purge_complete_tt 
				has_country_flag = SOV_purge_complete
			}
		}

		completion_reward = {
		        add_research_slot = 1
				add_timed_idea = {
					idea = officers_purged
					days = 2200
				remove_ideas = {
				trotskyite_plot 
				}
			}
		}
	}
	focus = {
		id = great_patriotic_war
		icon = GFX_focus_generic_join_comintern
		cost = 10
		prerequisite = {
			focus = SOV_great_purge
		}
		x = 8
		y = 3

		available = {
			GER = { has_completed_focus = GER_ussr_war_goal }		
		}

	    cancel_if_invalid = no
		continue_if_invalid = yes

		completion_reward = {
			add_ideas = tot_economic_mobilisation 	
		}
	}
	focus = {
		id = red_army_get_suck
		icon = GFX_focus_ger_bulwark_against_bolshevism
		cost = 10
		prerequisite = {
			focus = great_patriotic_war
		}
		x = 8
		y = 4

	}
	focus = {
		id = power_of_the_revolution
		icon = GFX_goal_generic_soviet_construction
		cost = 7
		prerequisite = {
			focus = stalin_constitution
		}
		x = 12
		y = 1
		available = { has_completed_focus = SOV_great_purge }
		completion_reward {
		    add_ideas = recovery_october 	
		}
	}
	focus = {
		id = 53K
		icon = GFX_goal_unknown
		cost = 5
		prerequisite = {
			focus = power_of_the_revolution
		}
		x = 11
		y = 2
	    completion_reward = {
		    add_tech_bonus = {
                bonus = 1.5
                uses = 2
                category = artillery
            }
		}
	}
	
	focus = {
		id = T50_focus
		icon = GFX_goal_unknown
		cost = 5
		prerequisite = {
			focus = power_of_the_revolution
		}
		x = 13
		y = 2

	}
	focus = {
		id = progress_cult
		text = ProgressCult
		icon = GFX_focus_research2
		cost = 10
		prerequisite = {
			focus = 53K
		}
		prerequisite = {
			focus = T50_focus
		}
		x = 12
		y = 3
		completion_reward = {
		    add_ideas = progress_cult_focus
        }
	}
	focus = {
		id = SOV_scientist
		icon = GFX_focus_generic_socialist_science
		cost = 10
		prerequisite = {
			focus = progress_cult
		}
		x = 12
		y = 4
		available = {
		    date > 1939.9.1
		}
		completion_reward = {
			add_research_slot = 1
	    }
	}
	
	focus = {
		id = SOV_positive_heroism
		icon = GFX_focus_generic_anti_fascist_diplomacy
		cost = 10
		prerequisite = {
			focus = SOV_scientist
			focus = soviet_war_eco
		}
		prerequisite = {
			focus = red_army_get_suck
		}
		x = 8
		y = 5

		completion_reward = {
		    add_ideas = soviettank_bonus

		    custom_effect_tooltip = SOV_positive_heroism_tt
		    hidden_effect = {

		    create_corps_commander = {	
		    name = "Konstantin Rokossovsky"
		    id = 402
	        picture = "Portrait_Soviet_Konstantin_Rokossovsky.dds"
		    traits = {  armor_officer panzer_leader trait_cautious brilliant_strategist harsh_leader trickster panzer_expert winter_specialist expert_improviser trait_engineer war_hero}
		    skill = 6
	
		    attack_skill = 5
		    defense_skill = 5
		    planning_skill = 5
		    logistics_skill = 3
		    }
        }     
        custom_effect_tooltip = available_military_high_command
	    show_ideas_tooltip = konstantin_rokossovsky
	    }
	}
